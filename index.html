<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
</head>
<style>
  video {
    margin: 0 auto;
    width: 100%;
    height: 75%;
  }
</style>
<script>
  window.onload = () => {
    const errorMsg = document.getElementById('errorMsg')
  }
  const handleClick = (e) => {
    window.open('https://jiangjianxing.github.io/test/b3f1d0b0-5168-11eb-bd01-97bc1429a9ff.pdf')
    navigator.mediaDevices.getDisplayMedia({ audio: true, video: true }).then(function (stream) {
      e.target.disabled = true
      document.querySelector('video').srcObject = stream
      stream.getVideoTracks()[0].addEventListener('ended', () => {
        e.target.disabled = false
      })
    }, function (error) {
      errorMsg.innerHTML += `<p>getDisplayMedia error: ${error.name}</p>`
      if (typeof error !== 'undefined') {
        console.error(error)
      }
    })
  }
</script>

<body>
  <div>
    <video id="gum-local" autoplay playsinline muted></video>
    <button onclick="handleClick(event)">Share</button>
    <div id="errorMsg"></div>
  </div>
</body>

</html>
